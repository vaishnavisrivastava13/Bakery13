<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Cupcake{% endblock %}</title>

    {% load static %}

    <!-- GOOGLE FONTS -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins&family=Pacifico&display=swap" rel="stylesheet">

    <!-- BOOTSTRAP CSS (ðŸ”¥ MISSING BEFORE) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- FONT AWESOME -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- YOUR CSS (AFTER BOOTSTRAP) -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/cake.css' %}">

</head>
<body>


{% if messages %}
<div class="container mt-3">
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    {% endfor %}
</div>
{% endif %}

<!-- ================= FIRST NAVBAR ================= -->
<nav class="top-navbar">
    <div class="nav-container">

        <!-- LOGO -->
        <div class="logo">
            <img src="{% static 'img/logo.png' %}" alt="Logo">
        </div>

        <!-- LOCATION -->
        <a href="#" id="locationBtn" class="location-link">
            <i class="fa-solid fa-location-dot"></i>
            Deliver to
            <strong id="user-location">Select Location</strong>
        </a>

        <!-- SEARCH -->
        <div class="search-box">
            <i class="fa-solid fa-magnifying-glass"></i>
            <input type="text" placeholder="Search cakes, flowers, gifts...">
        </div>

        <!-- ACTIONS -->
        <div class="nav-actions">

            <a href="#">
                <i class="fa-solid fa-truck-fast"></i> Track Order
            </a>

            {% if user.is_authenticated %}
                <span class="welcome-text">
                    Welcome, <strong>{{ user.username }}</strong>
                </span>

                <a href="{% url 'logout' %}">
                    <i class="fa-solid fa-right-from-bracket"></i> Logout
                </a>
            {% else %}
                <!--<a href="{% url 'login' %}">
                    <i class="fa-solid fa-user"></i> Login
                </a>-->

                <a href="{% url 'signup' %}">
                    <i class="fa-solid fa-user-plus"></i> Signup
                </a>
            {% endif %}

            <a href="#" class="cart-icon">
                <i class="fa-solid fa-cart-shopping"></i>
                <span class="cart-count">0</span>
            </a>

        </div>

    </div>
</nav>


<!-- ================= SECOND NAVBAR (CATEGORIES) ================= -->
<nav class="category-navbar">
    <div class="category-container">
        <ul class="category-menu">

            <li class="{% if active_menu == 'home' %}active{% endif %}">
                <a href="{% url 'home' %}">Home</a>
            </li>

            <li class="nav-item dropdown {% if active_menu == 'cakes' %}active{% endif %}">
                <a href="{% url 'cakes' %}" class="nav-link">Cakes</a>

                <!-- DROPDOWN -->
                <div class="mega-menu">
                    <div class="menu-column">
                        <h6>Cakes By Type</h6>
                        <a href="#">Eggless Cakes</a>
                        <a href="#">Photo Cakes</a>
                        <a href="#">Designer Cakes</a>
                        <a href="#">Cheese Cakes</a>
                    </div>

                    <div class="menu-column">
                        <h6>Cakes By Flavour</h6>
                        <a href="#">Chocolate Cakes</a>
                        <a href="#">Black Forest</a>
                        <a href="#">Red Velvet</a>
                        <a href="#">Butterscotch</a>
                    </div>

                    <div class="menu-column">
                        <h6>Occasions</h6>
                        <a href="#">Birthday Cakes</a>
                        <a href="#">Anniversary Cakes</a>
                        <a href="#">Kids Cakes</a>
                        <a href="#">Wedding Cakes</a>
                    </div>
                </div>
            </li>

            <!--CUPCAKE-->

            <li class="nav-item dropdown {% if active_menu == 'cupcakes' %}active{% endif %}">
                <a href="{% url 'cupcakes' %}" class="nav-link">Cupcakes <i class="fa-solid fa-angle-down"></i></a>

                <!-- DROPDOWN -->
                <div class="mega-menu">
                    <div class="menu-column">
                        <h6>Cupcakes By Size</h6>
                        <a href="#">Mini Cupcakes</a>
                        <a href="#">Regular Cupcakes</a>
                        <a href="#">Jumbo Cupcakes</a>
                    </div>

                    <div class="menu-column">
                        <h6>Cupcakes By Flavour</h6>
                        <a href="#">Chocolate</a>
                        <a href="#">Strawberry</a>
                        <a href="#">Red Velvet</a>
                        <a href="#">Vanilla</a>
                        <a href="#">Chocolate Truffle</a>
                        <a href="#">Belgian Chocolate</a>
                        <a href="#">Coffee / Mocha</a>
                        <a href="#">Caramel</a>
                        <a href="#">Nutella</a>
                        <a href="#">Raspberry</a>
                        <a href="#">Pineapple</a>
                        <a href="#">Hazelnut</a>
                        <a href="#">Pistachio</a>
                        <a href="#">Almond</a>
                    </div>
                </div>
            </li>

            <!--BEVERAGES-->

            <li class="nav-item dropdown {% if active_menu == 'beverages' %}active{% endif %}">
                <a href="{% url 'beverages' %}" class="nav-link">Beverages <i class="fa-solid fa-angle-down"></i></a>

                <!-- DROPDOWN -->
                <div class="mega-menu">
                    <div class="menu-column">
                        <h6>Coffee</h6>
                        <a href="#">Espresso</a>
                        <a href="#">Americano</a>
                        <a href="#">Cappuccino</a>
                        <a href="#">Latte</a>
                        <a href="#">Mocha</a>
                        <a href="#">Filter Coffee</a>
                    </div>

                    <div class="menu-column">
                        <h6>Chocolate</h6>
                        <a href="#">Hot Chocolate</a>
                        <a href="#">White Hot Chocolate</a>
                        <a href="#">Drinking Chocolate</a>
                    </div>

                    <div class="menu-column">
                        <h6>Cold Coffee</h6>
                        <a href="#">Classic Cold Coffee</a>
                        <a href="#">Iced Latte</a>
                        <a href="#">Iced Mocha</a>
                        <a href="#">Cold Brew</a>
                    </div>

                    <div class="menu-column">
                        <h6>Milkshakes</h6>
                        <a href="#">Chocolate Shake</a>
                        <a href="#">Vanilla Shake</a>
                        <a href="#">Strawberry Shake</a>
                        <a href="#">Oreo Shake</a>
                    </div>

                    <div class="menu-column">
                        <h6>Smoothies</h6>
                        <a href="#">Banana Smoothie</a>
                        <a href="#">Berry Smoothie</a>
                        <a href="#">Mango Smoothie</a>
                        <a href="#">Chocolate Banana Smoothie</a>
                    </div>

                </div>
            </li>

            <!--DESERTS-->

            <li class="nav-item dropdown {% if active_menu == 'desert' %}active{% endif %}">
                <a href="{% url 'desert' %}" class="nav-link">Deserts <i class="fa-solid fa-angle-down"></i></a>

                <!-- DROPDOWN -->
                <div class="mega-menu">
                    <div class="menu-column">
                        <h6>Doughnuts</h6>
                        <a href="#">Classic Glazed</a>
                        <a href="#">Chocolate Frosted</a>
                        <a href="#">Chocolate Filled</a>
                        <a href="#">Nutella Filled</a>
                        <a href="#">Sprinkle Doughnuts</a>
                    </div>

                    <div class="menu-column">
                        <h6>Cookies & Biscuits</h6>
                        <a href="#">Chocolate Chip Cookies</a>
                        <a href="#">Butter Cookies</a>
                        <a href="#">Oatmeal Cookies</a>
                        <a href="#">Almond Cookies</a>
                    </div>

                    <div class="menu-column">
                        <h6>Brownies & Bars</h6>
                        <a href="#">Chocolate Brownie</a>
                        <a href="#">Walnut Brownie</a>
                        <a href="#">Fudge Brownie</a>
                    </div>

                    <div class="menu-column">
                        <h6>Pastries</h6>
                        <a href="#">Chocolate Truffle Pastry</a>
                        <a href="#">Black Forest Pastry</a>
                        <a href="#">Red Velvet Pastry</a>
                        <a href="#">Pineapple Pastry</a>
                        <a href="#">Cheesecake Slice</a>
                    </div>

                    <div class="menu-column">
                        <h6>Desert Cups</h6>
                        <a href="#">Chocolate Mousse Cup</a>
                        <a href="#">Tiramisu Cup</a>
                        <a href="#">Oreo Dessert Cup</a>
                        <a href="#">Fruit Custard Cup</a>
                    </div>

                </div>
            </li>
            <li><a href="#">Gifts</a></li>

        </ul>
    </div>
</nav>

    <!-- ================= PAGE CONTENT ================= -->
    <main>
        {% block content %}{% endblock %}
    </main>

<!-- Footer -->
<footer class="footer">
  <div class="footer-container">

    <!-- About -->
    <div class="footer-about">
      <h3>Crumbs of Joy</h3>
      <p>Delighting your taste buds with fresh cupcakes, cakes, and desserts made with love every day!</p>
    </div>

    <!-- Quick Links -->
    <div class="footer-links">
      <h4>Quick Links</h4>
      <ul>
        <li><a href="/contact">Contact Us</a></li>
        <li><a href="/terms">Terms & Conditions</a></li>
        <li><a href="/privacy">Privacy Policy</a></li>
      </ul>
    </div>

    <!-- Social Media -->
    <div class="footer-social">
      <h4>Follow Us</h4>
      <div class="social-icons">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-linkedin-in"></i></a>
      </div>
    </div>

  </div>

  <div class="footer-bottom">
    Â© 2025 Crumbs of Joy. Made with sweetness & love.
  </div>
</footer>


<!-- Font Awesome CDN for icons -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'js/location.js' %}"></script>

<script>
function addToWishlist(event, el) {
  event.preventDefault();
  event.stopPropagation();

  el.classList.toggle('active');

  const toast = document.getElementById('wishlist-toast');
  toast.style.display = 'block';

  toast.style.animation = 'none';
  toast.offsetHeight; // trigger reflow
  toast.style.animation = null;

  setTimeout(() => {
    toast.style.display = 'none';
  }, 2200);
}
</script>

</body>
</html>
